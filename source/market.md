title: 交易系统
---

玩家可通过 [终端（terminal）](/api/#StructureTerminal)传送各种资源到指定房间，且无论距离远近，通过终端传送的资源无收发延迟。

游戏内的虚拟货币为 **积分（Credits）** ，简称Cr。Cr与玩家账号直接关联，且可用于游戏内交易。

{% note info %}
要取得第一笔积分，你需要与市场上现有的买单成交。
{% endnote %}

## 交易系统及市场订单

Screeps 的交易系统本质是由终端（Terminal）收发的市场中间人交易。通过创建订单，您可以指定交易的目标终端，、源类型、要出售/购买的资源数量以及资源的单价。每个发布的订单对游戏世界中的所有玩家均可见，你可以通过 [Market](https://screeps.com/a/#!/market) 页面或者 API 方法 [`Game.market.getAllOrders`](/api/#Game.market.getAllOrders) 来访问这些订单。创建任何类型的订单都需要缴纳订单总价的 5% credit 的手续费。

为了执行交易，另一方同样需要有一个终端来接受资源（拍下一个卖出订单）或发送资源（拍下一个购买订单）。想要完成交易，你可以使用市场页面或者 [`Game.market.deal`](/api/#Game.market.deal) 方法并指定想要交易的来自其他玩家的订单、你的终端以及想要交易的资源数量。然后，双方的终端自动进行交易，从买方的帐户中取出相应的 credit，然后将这笔款项转移给卖方。

{% note info %}
由于能量开支为终端传送消耗，因此无论订单为买入类或卖出类，能量开支均从接单方终端扣除。
{% endnote %}

如果一个卖单没有足够的资源，或者买单没有足够的Cr。这个订单会转为未激活状态。

## 例子

一下举例以更好的说明：

*   假设玩家“爱丽丝”从 W1N1 出了张以单价为 10 ，总量为 1000 UH2O 的买入单。因上文已阐述手续费为商品总价的 5%，
“爱丽丝”需要缴纳 500 Cr（10 * 1000 * 5%）手续费给市场。
*   “鲍勃”在市场上发现了“爱丽丝”的单，并决定从其相隔 3 个房间的 W4N2 终端卖 200 UH2O 给“爱丽丝”，
则“鲍勃”需支付 60 能量[^计算公式]。“鲍勃”交易成功后，200 UH2O 便会从“鲍勃”的终端传入“爱丽丝”的终端，
“鲍勃”同时从“爱丽丝”处获得 2,000 Cr，且“鲍勃”终端会被扣除 60 能量的运输费。
*   现在，“鲍勃”又发现了“查理”的单价为 0.5 的卖出单。“鲍勃”觉得用手上的 2,000 Cr从“查理”买入 4,000 能量。
然而，“查理”的房间跟“鲍勃”的隔了 4 个房间，因此运输费为 1,600 能量。尽管是能量是由“查理”卖给“鲍勃”，但由于“鲍勃”为接单方，运输费还是由“鲍勃”出。
于是，“鲍勃”在交易前至少需要有 1,600 能量存于终端。交易成功后，“查理”得到了 2,000 Cr，发出了 4,000 能量给“鲍勃”。

小结上述交易：

*   爱丽丝（下了个买入单，总量 1000 UH2O）：+200 UH2O）：, -2000-500 Cr
*   鲍勃（接了两单）：-200 UH2O，+4000-60-1600 能量, +2000-2000 Cr.
*   查理（下了个卖出单，卖能量）：-4000 能量，+2000 Cr

## NPC 终端（NPC Terminals）

Sector 间的“十字路口”（比如，房间 W0N0，W10N0，W10N10，等），都有 NPC 终端。
玩家可像与其他玩家交易一样，通过 [`Game.market`](/api/#Game.market) 与 NPC 交易。
尽管 NPC 开出的价格并不是很有竞争力，但不偿为快速买卖资源的方法。

## 订阅代币（Subscription Tokens）

玩家可从市场上购买**订阅代币**。当玩家激活订阅代币后，会获得为期 60 天的订阅。订阅代币虽不是游戏世界中的物品，但却可免终端放入市场中交易。

玩家可以像购买 CPU 订阅那样来购买订阅代币。购买后，订阅代币会直接被放入账号，并可像虚拟物品一样买卖。

因此，如果一个玩家的代码够优秀的话，他/她将不用花一分钱就可以解锁完全的 CPU！同时，订阅代币也可通过 [Steam 社区市场](http://steamcommunity.com/market/listings/464350/Subscription%20Token) 进行交易，也就是说，您可以通过出售订阅代币来在 Steam 钱包里换取真正的钞票。

[^计算公式]: /api/#Game.market.calcTransactionCost
